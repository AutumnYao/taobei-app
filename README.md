# æ·˜è´ (TaoBei) - ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº React + Node.js çš„ç°ä»£åŒ–ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼Œæ”¯æŒå¯†ç ç™»å½•ã€çŸ­ä¿¡éªŒè¯ç ç™»å½•å’Œç”¨æˆ·æ³¨å†ŒåŠŸèƒ½ã€‚

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æ·˜è´æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·è®¤è¯è§£å†³æ–¹æ¡ˆï¼Œæä¾›äº†å®‰å…¨å¯é çš„ç™»å½•å’Œæ³¨å†ŒåŠŸèƒ½ã€‚ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå…·æœ‰è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒå’Œå®‰å…¨æ€§ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” ç”¨æˆ·ç™»å½•
- **å¤šç§ç™»å½•æ–¹å¼**ï¼šæ”¯æŒå¯†ç ç™»å½•å’ŒçŸ­ä¿¡éªŒè¯ç ç™»å½•
- **æ ‡ç­¾é¡µåˆ‡æ¢**ï¼šç”¨æˆ·å¯åœ¨å¯†ç ç™»å½•å’ŒçŸ­ä¿¡ç™»å½•ä¹‹é—´è‡ªç”±åˆ‡æ¢
- **å®‰å…¨é˜²æŠ¤**ï¼š
  - å¯†ç é”™è¯¯3æ¬¡åéœ€è¦å›¾å½¢éªŒè¯ç 
  - è´¦æˆ·é”å®šæœºåˆ¶é˜²æ­¢æš´åŠ›ç ´è§£
  - JWT Token è®¤è¯
- **ç”¨æˆ·ä½“éªŒ**ï¼š
  - è®°ä½æˆ‘/è‡ªåŠ¨ç™»å½•é€‰é¡¹
  - å¯†ç æ˜¾ç¤º/éšè—åˆ‡æ¢
  - å®æ—¶è¡¨å•éªŒè¯

### ğŸ“± çŸ­ä¿¡éªŒè¯ç 
- **éªŒè¯ç ç”Ÿæˆ**ï¼š6ä½éšæœºæ•°å­—éªŒè¯ç 
- **å€’è®¡æ—¶åŠŸèƒ½**ï¼š60ç§’å€’è®¡æ—¶é˜²æ­¢é¢‘ç¹è¯·æ±‚
- **è‡ªåŠ¨æ³¨å†Œ**ï¼šæœªæ³¨å†Œç”¨æˆ·ä½¿ç”¨çŸ­ä¿¡ç™»å½•æ—¶è‡ªåŠ¨å®Œæˆæ³¨å†Œ
- **éªŒè¯ç è¿‡æœŸ**ï¼š60ç§’æœ‰æ•ˆæœŸï¼Œè¿‡æœŸè‡ªåŠ¨å¤±æ•ˆ

### ğŸ‘¤ ç”¨æˆ·æ³¨å†Œ
- **å®Œæ•´æ³¨å†Œæµç¨‹**ï¼šæ‰‹æœºå·ã€éªŒè¯ç ã€å¯†ç ã€ç¡®è®¤å¯†ç 
- **æ™ºèƒ½å¤„ç†**ï¼šå·²æ³¨å†Œç”¨æˆ·ç›´æ¥ç™»å½•ï¼Œæ— éœ€é‡å¤æ³¨å†Œ
- **åè®®ç¡®è®¤**ï¼šå¿…é¡»åŒæ„ç”¨æˆ·åè®®æ‰èƒ½æ³¨å†Œ
- **å¯†ç éªŒè¯**ï¼šç¡®è®¤å¯†ç å¿…é¡»ä¸åŸå¯†ç ä¸€è‡´

### ğŸ  ä¸ªæ€§åŒ–é¦–é¡µ
- **æ¬¢è¿ä¿¡æ¯**ï¼šæ˜¾ç¤ºç”¨æˆ·æ‰‹æœºå·çš„ä¸ªæ€§åŒ–æ¬¢è¿
- **ç™»å½•çŠ¶æ€**ï¼šæ˜¾ç¤ºç™»å½•æˆåŠŸçŠ¶æ€

## ğŸ›  æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 18** - ç°ä»£åŒ–å‰ç«¯æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScript
- **React Router** - å•é¡µåº”ç”¨è·¯ç”±
- **Vite** - å¿«é€Ÿæ„å»ºå·¥å…·
- **Axios** - HTTPå®¢æˆ·ç«¯

### åç«¯
- **Node.js** - JavaScriptè¿è¡Œæ—¶
- **Express** - Webåº”ç”¨æ¡†æ¶
- **SQLite** - è½»é‡çº§æ•°æ®åº“
- **JWT** - JSON Web Tokenè®¤è¯
- **bcryptjs** - å¯†ç åŠ å¯†
- **CORS** - è·¨åŸŸèµ„æºå…±äº«

### æµ‹è¯•
- **Jest** - åç«¯æµ‹è¯•æ¡†æ¶
- **Vitest** - å‰ç«¯æµ‹è¯•æ¡†æ¶
- **Testing Library** - Reactç»„ä»¶æµ‹è¯•
- **Supertest** - APIæµ‹è¯•

## ğŸ“ é¡¹ç›®ç»“æ„

```
taobei_test/
â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app.js          # åº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ controllers/    # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ database/       # æ•°æ®åº“æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ routes/         # è·¯ç”±å®šä¹‰
â”‚   â”‚   â””â”€â”€ services/       # ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ test/               # åç«¯æµ‹è¯•
â”œâ”€â”€ frontend/               # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ test/           # å‰ç«¯æµ‹è¯•
â”‚   â””â”€â”€ public/             # é™æ€èµ„æº
â”œâ”€â”€ database.sqlite         # SQLiteæ•°æ®åº“æ–‡ä»¶
â””â”€â”€ .artifacts/             # æ¥å£æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16.0.0
- npm >= 8.0.0

### å®‰è£…ä¾èµ–

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd taobei_test
```

2. **å®‰è£…åç«¯ä¾èµ–**
```bash
cd backend
npm install
```

3. **å®‰è£…å‰ç«¯ä¾èµ–**
```bash
cd ../frontend
npm install
```

### è¿è¡Œé¡¹ç›®

1. **å¯åŠ¨åç«¯æœåŠ¡**
```bash
cd backend
npm start
```
åç«¯æœåŠ¡å°†åœ¨ `http://localhost:3000` å¯åŠ¨

2. **å¯åŠ¨å‰ç«¯åº”ç”¨**
```bash
cd frontend
npm run dev
```
å‰ç«¯åº”ç”¨å°†åœ¨ `http://localhost:5173` å¯åŠ¨

### å¼€å‘æ¨¡å¼

- **åç«¯å¼€å‘æ¨¡å¼**ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰ï¼š
```bash
cd backend
npm run dev
```

- **å‰ç«¯å¼€å‘æ¨¡å¼**ï¼ˆå·²é»˜è®¤å¯ç”¨çƒ­é‡è½½ï¼‰ï¼š
```bash
cd frontend
npm run dev
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œåç«¯æµ‹è¯•
```bash
cd backend
npm test
```

### è¿è¡Œå‰ç«¯æµ‹è¯•
```bash
cd frontend
npm test
```

### æµ‹è¯•è¦†ç›–ç‡
```bash
cd backend
npm test -- --coverage
```

## ğŸ“Š æ•°æ®åº“ç»“æ„

### users è¡¨
- `id` - ç”¨æˆ·IDï¼ˆä¸»é”®ï¼‰
- `phone_number` - æ‰‹æœºå·ï¼ˆå”¯ä¸€ï¼‰
- `password_hash` - å¯†ç å“ˆå¸Œ
- `login_method` - ç™»å½•æ–¹å¼ï¼ˆsms/passwordï¼‰
- `created_at` - åˆ›å»ºæ—¶é—´
- `updated_at` - æ›´æ–°æ—¶é—´

### verification_codes è¡¨
- `id` - éªŒè¯ç IDï¼ˆä¸»é”®ï¼‰
- `phone_number` - æ‰‹æœºå·
- `code` - éªŒè¯ç 
- `expires_at` - è¿‡æœŸæ—¶é—´
- `created_at` - åˆ›å»ºæ—¶é—´

### login_attempts è¡¨
- `id` - å°è¯•IDï¼ˆä¸»é”®ï¼‰
- `phone_number` - æ‰‹æœºå·
- `attempts` - å°è¯•æ¬¡æ•°
- `locked_until` - é”å®šåˆ°æœŸæ—¶é—´
- `last_attempt` - æœ€åå°è¯•æ—¶é—´

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡
åœ¨åç«¯æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š
```env
JWT_SECRET=your-secret-key
PORT=3000
```

### æ•°æ®åº“åˆå§‹åŒ–
é¡¹ç›®å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºSQLiteæ•°æ®åº“å’Œå¿…è¦çš„è¡¨ç»“æ„ã€‚

## ğŸ“ API æ¥å£

### è®¤è¯ç›¸å…³
- `POST /api/auth/send-verification-code` - å‘é€éªŒè¯ç 
- `POST /api/auth/sms-login` - çŸ­ä¿¡ç™»å½•
- `POST /api/auth/password-login` - å¯†ç ç™»å½•
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ

è¯¦ç»†çš„APIæ–‡æ¡£è¯·å‚è€ƒ `.artifacts/` ç›®å½•ä¸‹çš„æ¥å£æ–‡æ¡£ã€‚

## ğŸ¯ ä½¿ç”¨è¯´æ˜

### æµ‹è¯•è´¦æˆ·
ç³»ç»Ÿæ”¯æŒä»»æ„æ‰‹æœºå·æ³¨å†Œï¼ŒéªŒè¯ç ä¼šåœ¨åç«¯æ§åˆ¶å°è¾“å‡ºã€‚

### ç™»å½•æµç¨‹
1. è®¿é—® `http://localhost:5173`
2. é€‰æ‹©ç™»å½•æ–¹å¼ï¼ˆå¯†ç ç™»å½•/çŸ­ä¿¡ç™»å½•ï¼‰
3. è¾“å…¥æ‰‹æœºå·å’Œå¯†ç /éªŒè¯ç 
4. ç‚¹å‡»ç™»å½•æŒ‰é’®
5. æˆåŠŸåè·³è½¬åˆ°é¦–é¡µ

### æ³¨å†Œæµç¨‹
1. åœ¨ç™»å½•é¡µé¢ç‚¹å‡»"å…è´¹æ³¨å†Œ"
2. è¾“å…¥æ‰‹æœºå·å¹¶è·å–éªŒè¯ç 
3. è®¾ç½®å¯†ç å¹¶ç¡®è®¤
4. åŒæ„ç”¨æˆ·åè®®
5. ç‚¹å‡»æ³¨å†ŒæŒ‰é’®
6. æˆåŠŸåè‡ªåŠ¨ç™»å½•å¹¶è·³è½¬åˆ°é¦–é¡µ

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- æäº¤ Issue
- å‘é€é‚®ä»¶è‡³é¡¹ç›®ç»´æŠ¤è€…

---

**æ³¨æ„**ï¼šè¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºé¡¹ç›®ï¼Œè¯·å‹¿åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç›´æ¥ä½¿ç”¨ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰ï¼Œè¯·ç¡®ä¿ï¼š
- ä½¿ç”¨å®‰å…¨çš„JWTå¯†é’¥
- é…ç½®çœŸå®çš„çŸ­ä¿¡æœåŠ¡
- æ·»åŠ æ›´å¤šçš„å®‰å…¨éªŒè¯
- ä½¿ç”¨ç”Ÿäº§çº§æ•°æ®åº“